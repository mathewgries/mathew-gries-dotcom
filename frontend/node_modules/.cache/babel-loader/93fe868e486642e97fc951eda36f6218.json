{"ast":null,"code":"var _jsxFileName = \"/Users/mat/projects/mathew-gries-dotcom/frontend/src/features/calculator/CalculatorPage.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport runOperations from '../../helpers/runOperations';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateQueuedOperation, updateLastAction, updateActiveId, updateFirstValue, updateSecondValue, updateDisplayValue, resetAll } from './calculatorSlice';\nimport { DisplayField } from './DisplayField';\nimport { CalculatorButton } from './CalculatorButton';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CalculatorPage = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const actionsList = {\n    number: 'number',\n    operator: 'operator',\n    equals: 'equals'\n  };\n  const lastAction = useSelector(state => state.calculator.lastAction);\n  const activeId = useSelector(state => state.calculator.activeId);\n  const firstValue = useSelector(state => state.calculator.firstValue);\n  const secondValue = useSelector(state => state.calculator.secondValue);\n  const displayValue = useSelector(state => state.calculator.displayValue);\n  const queuedOperation = useSelector(state => state.calculator.queuedOperation);\n  const disableNumbers = displayValue.length === 8; //==========================================================================//\n\n  const onClickHandler = ({\n    target\n  }) => {\n    const {\n      id,\n      classList\n    } = target;\n    const btn = classList.value.substring('button'.length + 1);\n    if (btn === 'number') handleNumberClick(id);\n    if (btn === 'sign') handleSignClick(id);\n    if (btn === 'all-clear') handleAllClearClick();\n    if (btn === 'clear') handleClearClick();\n    if (btn === 'decimal') handleDecimalClick();\n\n    if (btn === 'operator') {\n      if (id === 'equal') {\n        handleEqualsClick();\n      } else {\n        handleOperatorClick(id);\n      }\n    }\n  }; //==========================================================================//\n\n\n  const handleNumberClick = number => {\n    let nextValue;\n\n    if (displayValue === '0') {\n      if (number === '0') {\n        return;\n      }\n\n      nextValue = number;\n    } else if (lastAction === actionsList.equals) {\n      nextValue = number;\n      dispatch(resetAll());\n    } else if (lastAction === actionsList.operator) {\n      nextValue = number;\n      dispatch(updateFirstValue(displayValue));\n    } else {\n      if (displayValue.includes('.') && displayValue.length - displayValue.indexOf('.') - 1 === 3) {\n        return;\n      }\n\n      nextValue = `${displayValue}${number}`;\n    }\n\n    if (lastAction !== actionsList.number) {\n      dispatch(updateLastAction(actionsList.number));\n    }\n\n    if (activeId) {\n      handleActiveId();\n    }\n\n    dispatch(updateDisplayValue(nextValue));\n  }; //==========================================================================//\n\n\n  const handleOperatorClick = operator => {\n    if (lastAction) {\n      if (lastAction === actionsList.operator) {\n        if (queuedOperation === operator) {\n          return;\n        } else {\n          handleActiveId(operator);\n          dispatch(updateQueuedOperation(operator));\n          return;\n        }\n      }\n\n      if (lastAction === actionsList.equals) {\n        dispatch(updateFirstValue(displayValue));\n      }\n\n      if (lastAction === actionsList.number) {\n        if (!queuedOperation) {\n          dispatch(updateFirstValue(displayValue));\n        } else {\n          const result = runOperations(queuedOperation, firstValue, displayValue);\n          dispatch(updateDisplayValue(result));\n        }\n      }\n\n      if (queuedOperation !== operator) {\n        dispatch(updateQueuedOperation(operator));\n      }\n\n      handleActiveId(operator);\n      dispatch(updateLastAction(actionsList.operator));\n    }\n  }; //==========================================================================//\n\n\n  const handleEqualsClick = () => {\n    let result;\n\n    if (lastAction && queuedOperation) {\n      if (lastAction !== actionsList.equals) {\n        dispatch(updateSecondValue(displayValue));\n        result = runOperations(queuedOperation, firstValue, displayValue);\n      } else {\n        result = runOperations(queuedOperation, displayValue, secondValue);\n      }\n\n      if (lastAction !== actionsList.equals) {\n        dispatch(updateLastAction(actionsList.equals));\n      }\n\n      if (activeId) {\n        handleActiveId();\n      }\n\n      dispatch(updateDisplayValue(result));\n    }\n  }; //==========================================================================//\n\n\n  const handleSignClick = sign => {\n    let result;\n\n    if (displayValue.indexOf('-') > -1) {\n      result = displayValue.substring(1);\n    } else {\n      result = `-${displayValue}`;\n    }\n\n    dispatch(updateDisplayValue(result));\n  }; //==========================================================================//\n\n\n  const handleDecimalClick = () => {\n    let result;\n\n    if (lastAction === actionsList.equals) {\n      result = '0.';\n      dispatch(resetAll());\n    } else if (lastAction === actionsList.operator) {\n      result = '0.';\n    } else if (!displayValue.includes('.')) {\n      result = `${displayValue}.`;\n    }\n\n    if (result) {\n      dispatch(updateDisplayValue(result));\n\n      if (lastAction !== actionsList.number) {\n        dispatch(updateLastAction(actionsList.number));\n      }\n\n      if (activeId) {\n        handleActiveId();\n      }\n    }\n  }; //==========================================================================//\n\n\n  const handleClearClick = () => {\n    if (lastAction === actionsList.number) {\n      dispatch(updateDisplayValue('0'));\n    }\n  }; //==========================================================================//\n\n\n  const handleAllClearClick = () => {\n    if (lastAction || displayValue !== '0') {\n      handleActiveId();\n      dispatch(resetAll());\n    }\n  }; //==========================================================================//\n\n\n  const handleActiveId = id => {\n    if (activeId) {\n      document.getElementById(activeId).classList.remove('active');\n    }\n\n    if (id) {\n      document.getElementById(id).classList.add('active');\n      dispatch(updateActiveId(id));\n    } else if (activeId && !id) {\n      dispatch(updateActiveId(null));\n    }\n  }; //==========================================================================//\n\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"page-container calculator\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Calculator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calculator-table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(DisplayField, {\n                  value: displayValue\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"button-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: 'AC',\n                  id: 'all-clear',\n                  className: 'all-clear',\n                  onClickHandler: onClickHandler,\n                  isActive: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: 'C',\n                  id: 'clear',\n                  className: 'clear',\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '+/-',\n                  id: 'sign',\n                  className: 'sign',\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '\\u00F7',\n                  id: 'divide',\n                  className: 'operator',\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"button-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '7',\n                  id: '7',\n                  className: 'number',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '8',\n                  id: '8',\n                  className: 'number',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '9',\n                  id: '9',\n                  className: 'number',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: 'x',\n                  id: 'multiply',\n                  className: 'operator',\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"button-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '4',\n                  id: '4',\n                  className: 'number',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '5',\n                  id: '5',\n                  className: 'number',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '6',\n                  id: '6',\n                  className: 'number',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '-',\n                  id: 'subtract',\n                  className: 'operator',\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"button-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '1',\n                  id: '1',\n                  className: 'number',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '2',\n                  id: '2',\n                  className: 'number',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '3',\n                  id: '3',\n                  className: 'number',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '+',\n                  id: 'add',\n                  className: 'operator',\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"button-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '0',\n                  id: '0',\n                  className: 'number',\n                  wrapperClass: 'zero-cell',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '.',\n                  id: 'decimal',\n                  className: 'decimal',\n                  disabled: disableNumbers,\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(CalculatorButton, {\n                  text: '=',\n                  id: 'equal',\n                  className: 'operator',\n                  onClickHandler: onClickHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CalculatorPage, \"dPj/GwHwKO9k4NlD1bb80npLuHs=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = CalculatorPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CalculatorPage\");","map":{"version":3,"sources":["/Users/mat/projects/mathew-gries-dotcom/frontend/src/features/calculator/CalculatorPage.js"],"names":["React","runOperations","useDispatch","useSelector","updateQueuedOperation","updateLastAction","updateActiveId","updateFirstValue","updateSecondValue","updateDisplayValue","resetAll","DisplayField","CalculatorButton","CalculatorPage","dispatch","actionsList","number","operator","equals","lastAction","state","calculator","activeId","firstValue","secondValue","displayValue","queuedOperation","disableNumbers","length","onClickHandler","target","id","classList","btn","value","substring","handleNumberClick","handleSignClick","handleAllClearClick","handleClearClick","handleDecimalClick","handleEqualsClick","handleOperatorClick","nextValue","includes","indexOf","handleActiveId","result","sign","document","getElementById","remove","add"],"mappings":"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","sourcesContent":["import React from 'react'\nimport runOperations from '../../helpers/runOperations'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  updateQueuedOperation,\n  updateLastAction,\n  updateActiveId,\n  updateFirstValue,\n  updateSecondValue,\n  updateDisplayValue,\n  resetAll,\n} from './calculatorSlice'\nimport { DisplayField } from './DisplayField'\nimport { CalculatorButton } from './CalculatorButton'\nimport './style.css'\n\nexport const CalculatorPage = () => {\n  const dispatch = useDispatch()\n  const actionsList = {\n    number: 'number',\n    operator: 'operator',\n    equals: 'equals',\n  }\n  const lastAction = useSelector((state) => state.calculator.lastAction)\n  const activeId = useSelector((state) => state.calculator.activeId)\n  const firstValue = useSelector((state) => state.calculator.firstValue)\n  const secondValue = useSelector((state) => state.calculator.secondValue)\n  const displayValue = useSelector((state) => state.calculator.displayValue)\n  const queuedOperation = useSelector(\n    (state) => state.calculator.queuedOperation\n  )\n\n  const disableNumbers = displayValue.length === 8\n\n  //==========================================================================//\n\n  const onClickHandler = ({ target }) => {\n    const { id, classList } = target\n    const btn = classList.value.substring('button'.length + 1)\n\n    if (btn === 'number') handleNumberClick(id)\n    if (btn === 'sign') handleSignClick(id)\n    if (btn === 'all-clear') handleAllClearClick()\n    if (btn === 'clear') handleClearClick()\n    if (btn === 'decimal') handleDecimalClick()\n\n    if (btn === 'operator') {\n      if (id === 'equal') {\n        handleEqualsClick()\n      } else {\n        handleOperatorClick(id)\n      }\n    }\n  }\n\n  //==========================================================================//\n\n  const handleNumberClick = (number) => {\n    let nextValue\n\n    if (displayValue === '0') {\n      if (number === '0') {\n        return\n      }\n      nextValue = number\n    } else if (lastAction === actionsList.equals) {\n      nextValue = number\n      dispatch(resetAll())\n    } else if (lastAction === actionsList.operator) {\n      nextValue = number\n      dispatch(updateFirstValue(displayValue))\n    } else {\n      if (\n        displayValue.includes('.') &&\n        displayValue.length - displayValue.indexOf('.') - 1 === 3\n      ) {\n        return\n      }\n      nextValue = `${displayValue}${number}`\n    }\n\n    if (lastAction !== actionsList.number) {\n      dispatch(updateLastAction(actionsList.number))\n    }\n\n    if (activeId) {\n      handleActiveId()\n    }\n    dispatch(updateDisplayValue(nextValue))\n  }\n\n  //==========================================================================//\n\n  const handleOperatorClick = (operator) => {\n    if (lastAction) {\n      if (lastAction === actionsList.operator) {\n        if (queuedOperation === operator) {\n          return\n        } else {\n          handleActiveId(operator)\n          dispatch(updateQueuedOperation(operator))\n          return\n        }\n      }\n\n      if (lastAction === actionsList.equals) {\n        dispatch(updateFirstValue(displayValue))\n      }\n\n      if (lastAction === actionsList.number) {\n        if (!queuedOperation) {\n          dispatch(updateFirstValue(displayValue))\n        } else {\n          const result = runOperations(\n            queuedOperation,\n            firstValue,\n            displayValue\n          )\n          dispatch(updateDisplayValue(result))\n        }\n      }\n\n      if (queuedOperation !== operator) {\n        dispatch(updateQueuedOperation(operator))\n      }\n      handleActiveId(operator)\n      dispatch(updateLastAction(actionsList.operator))\n    }\n  }\n\n  //==========================================================================//\n\n  const handleEqualsClick = () => {\n    let result\n\n    if (lastAction && queuedOperation) {\n      if (lastAction !== actionsList.equals) {\n        dispatch(updateSecondValue(displayValue))\n        result = runOperations(queuedOperation, firstValue, displayValue)\n      } else {\n        result = runOperations(queuedOperation, displayValue, secondValue)\n      }\n\n      if (lastAction !== actionsList.equals) {\n        dispatch(updateLastAction(actionsList.equals))\n      }\n\n      if (activeId) {\n        handleActiveId()\n      }\n      dispatch(updateDisplayValue(result))\n    }\n  }\n\n  //==========================================================================//\n\n  const handleSignClick = (sign) => {\n    let result\n    if (displayValue.indexOf('-') > -1) {\n      result = displayValue.substring(1)\n    } else {\n      result = `-${displayValue}`\n    }\n    dispatch(updateDisplayValue(result))\n  }\n\n  //==========================================================================//\n\n  const handleDecimalClick = () => {\n    let result\n    if (lastAction === actionsList.equals) {\n      result = '0.'\n      dispatch(resetAll())\n    } else if (lastAction === actionsList.operator) {\n      result = '0.'\n    } else if (!displayValue.includes('.')) {\n      result = `${displayValue}.`\n    }\n\n    if (result) {\n      dispatch(updateDisplayValue(result))\n      if (lastAction !== actionsList.number) {\n        dispatch(updateLastAction(actionsList.number))\n      }\n\n      if (activeId) {\n        handleActiveId()\n      }\n    }\n  }\n\n  //==========================================================================//\n\n  const handleClearClick = () => {\n    if (lastAction === actionsList.number) {\n      dispatch(updateDisplayValue('0'))\n    }\n  }\n\n  //==========================================================================//\n\n  const handleAllClearClick = () => {\n    if (lastAction || displayValue !== '0') {\n      handleActiveId()\n      dispatch(resetAll())\n    }\n  }\n\n  //==========================================================================//\n\n  const handleActiveId = (id) => {\n    if (activeId) {\n      document.getElementById(activeId).classList.remove('active')\n    }\n    if (id) {\n      document.getElementById(id).classList.add('active')\n      dispatch(updateActiveId(id))\n    } else if (activeId && !id) {\n      dispatch(updateActiveId(null))\n    }\n  }\n  //==========================================================================//\n\n  return (\n    <section className=\"page-container calculator\">\n      <div>\n        <header>\n          <h1>Calculator</h1>\n        </header>\n      </div>\n      <div className=\"calculator-table-container\">\n        <table>\n          <tbody>\n            <tr>\n              <td colSpan=\"4\">\n                <div>\n                  <DisplayField value={displayValue} />\n                </div>\n              </td>\n            </tr>\n            <tr className=\"button-row\">\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'AC'}\n                    id={'all-clear'}\n                    className={'all-clear'}\n                    onClickHandler={onClickHandler}\n                    isActive\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'C'}\n                    id={'clear'}\n                    className={'clear'}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'+/-'}\n                    id={'sign'}\n                    className={'sign'}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'\\u00F7'}\n                    id={'divide'}\n                    className={'operator'}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n            </tr>\n            <tr className=\"button-row\">\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'7'}\n                    id={'7'}\n                    className={'number'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'8'}\n                    id={'8'}\n                    className={'number'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'9'}\n                    id={'9'}\n                    className={'number'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'x'}\n                    id={'multiply'}\n                    className={'operator'}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n            </tr>\n            <tr className=\"button-row\">\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'4'}\n                    id={'4'}\n                    className={'number'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'5'}\n                    id={'5'}\n                    className={'number'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'6'}\n                    id={'6'}\n                    className={'number'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'-'}\n                    id={'subtract'}\n                    className={'operator'}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n            </tr>\n            <tr className=\"button-row\">\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'1'}\n                    id={'1'}\n                    className={'number'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'2'}\n                    id={'2'}\n                    className={'number'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'3'}\n                    id={'3'}\n                    className={'number'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'+'}\n                    id={'add'}\n                    className={'operator'}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n            </tr>\n            <tr className=\"button-row\">\n              <td colSpan=\"2\">\n                <div>\n                  <CalculatorButton\n                    text={'0'}\n                    id={'0'}\n                    className={'number'}\n                    wrapperClass={'zero-cell'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'.'}\n                    id={'decimal'}\n                    className={'decimal'}\n                    disabled={disableNumbers}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n              <td>\n                <div>\n                  <CalculatorButton\n                    text={'='}\n                    id={'equal'}\n                    className={'operator'}\n                    onClickHandler={onClickHandler}\n                  />\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </section>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}